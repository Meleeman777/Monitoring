{
  "annotations": {
    "list": [
      {
        "$$hashKey": "object:87",
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "Dashboard for metrics jmx_exporter protmetheus",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": 11962,
  "graphTooltip": 0,
  "id": 322,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 231,
      "panels": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 1
          },
          "id": 647,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum count(kafka_server_replicamanager_leadercount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Brokers Online",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 4,
            "y": 1
          },
          "id": 233,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum sum(kafka_controller_kafkacontroller_activecontrollercount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Active Controllers",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 1
          },
          "id": 625,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum sum(kafka_controller_kafkacontroller_globaltopiccount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Total of Topics",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 12,
            "y": 1
          },
          "id": 30,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum sum(kafka_server_replicamanager_underreplicatedpartitions{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Under Replicated Partitions",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 16,
            "y": 1
          },
          "id": 40,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum  sum(kafka_server_replicamanager_partitioncount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Online Partitions",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 20,
            "y": 1
          },
          "id": 126,
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum sum(kafka_controller_kafkacontroller_offlinepartitionscount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Offline Partitions",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Time"
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "__name__"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "inst"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": " Brokers"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-text"
                  },
                  {
                    "id": "custom.align"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "#FA6400"
                        },
                        {
                          "color": "#56A64B",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "job"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 5
          },
          "id": 622,
          "links": [],
          "options": {
            "footer": {
              "enablePagination": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m kafka_controller_kafkacontroller_activecontrollercount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"} | stats last(value) as value by __name__, inst ",
              "format": "table",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Controller and Followers ",
          "transformations": [],
          "type": "table"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Time"
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "__name__"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "inst"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Brokers"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "valueA"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Leader "
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-text"
                  },
                  {
                    "id": "custom.align"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "#FA6400"
                        },
                        {
                          "color": "#56A64B",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "valueB"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Replicas"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-text"
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 5
          },
          "id": 619,
          "links": [],
          "options": {
            "footer": {
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 2,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m kafka_server_replicamanager_leadercount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"}  | stats last(value) as valueA by inst ",
              "format": "table",
              "hide": false,
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            },
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m count(kafka_cluster_partition_replicascount{job=\"$job\",env=~\"$env\"} <= 1)by(inst) | stats last(value) as valueB by inst ",
              "format": "table",
              "hide": false,
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "B",
              "size": 100000
            }
          ],
          "title": "Partitions Leader and Replica Per Broker",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "displayName": "Messages In Per Sec",
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "id": 683,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m sum(rate(kafka_server_brokertopicmetrics_messagesin_total{job=\"$job\",topic=\"\",inst=~\"$broker\"}[$span]))",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "id": 688,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Total messages from ${__from:date:MM-DD h.mm:} to ${__to:date:MM-DD hh.mm}\" sum(increase(kafka_server_brokertopicmetrics_messagesin_total{job=\"$job\",topic=\"\",inst=~\"$broker\"}[$__range]))",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "decimals": 2,
              "displayName": "Network processor avg $broker",
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46"
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 80
                  },
                  {
                    "color": "#d44a3a",
                    "value": 90
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 19
          },
          "id": 467,
          "links": [],
          "options": {
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "9.2.3",
          "repeat": "broker",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql step=1m chart=sum legend=\"Network processor avg {{inst}}\" 100 - (kafka_network_socketserver_networkprocessoravgidlepercent{job=\"$job\",inst=~\"$broker\"}*100)",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "gauge"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Cluster health",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 680,
      "panels": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "If <= 0 is very idle",
          "fieldConfig": {
            "defaults": {
              "decimals": 2,
              "displayName": "Request handler avg $broker",
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "max": 100,
              "min": 0,
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46"
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 80
                  },
                  {
                    "color": "#d44a3a",
                    "value": 90
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 30
          },
          "id": 681,
          "links": [],
          "maxPerRow": 6,
          "options": {
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "9.2.3",
          "repeat": "broker",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Request handler avg {{inst}}\" 100 - rate(kafka_server_kafkarequesthandlerpool_requesthandleravgidlepercent_count{job=\"$job\",inst=~\"$broker\"}[$span]) / 10000000\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "gauge"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Request Handler",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "id": 651,
      "panels": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "displayName": "Total Time Produce Latency 99th",
              "mappings": [],
              "max": "1000",
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#7EB26D",
                    "index": 0
                  },
                  {
                    "color": "#E0B400",
                    "index": 1,
                    "value": 500
                  },
                  {
                    "color": "#C4162A",
                    "index": 2,
                    "value": 800
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 8,
            "x": 0,
            "y": 3
          },
          "id": 192,
          "links": [],
          "maxPerRow": 6,
          "options": {
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "9.2.3",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Total {{request}} 99th\" avg(kafka_network_requestmetrics_totaltimems{request=\"Produce\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(request)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "displayName": "Total Time FetchConsumer Latency 99th",
              "mappings": [],
              "max": "1000",
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#7EB26D"
                  },
                  {
                    "color": "#E0B400",
                    "value": 600
                  },
                  {
                    "color": "#C4162A",
                    "value": 800
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 8,
            "x": 8,
            "y": 3
          },
          "id": 677,
          "links": [],
          "maxPerRow": 6,
          "options": {
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "9.2.3",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Total {{request}} 99th\" avg(kafka_network_requestmetrics_totaltimems{request=\"FetchConsumer\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(request)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "displayName": "Total Time FetchFollower Latency 99th",
              "mappings": [],
              "max": "1000",
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#7EB26D"
                  },
                  {
                    "color": "#E0B400",
                    "value": 599
                  },
                  {
                    "color": "#C4162A",
                    "value": 800
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 8,
            "x": 16,
            "y": 3
          },
          "id": 678,
          "links": [],
          "maxPerRow": 6,
          "options": {
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "9.2.3",
          "repeatDirection": "h",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Total {{request}} 99th\" avg(kafka_network_requestmetrics_totaltimems{request=\"FetchFollower\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(request)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 8
          },
          "id": 665,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" avg (kafka_network_requestmetrics_totaltimems{request=\"Produce\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Produce Latency 99th per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 8
          },
          "id": 666,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" avg (kafka_network_requestmetrics_totaltimems{request=\"FetchConsumer\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "FetchConsumer Latency 99th per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 8
          },
          "id": 667,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" avg (kafka_network_requestmetrics_totaltimems{request=\"FetchFollower\",job=\"$job\",quantile=\"0.99\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "FetchFollow Latency 99th per Broker",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Latency",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 653,
      "panels": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 4
          },
          "id": 708,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "last",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql step=1m chart=sum legend=\"group {{consumergroup}} topic {{topic}} inst {{inst}}\" sum by(topic, job, consumergroup,inst) (kafka_consumergroup_lag{job=\"kafka_lag_exporter\",inst=~\"$broker\",topic=~\"$topic\"})\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            },
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"group {{exported_group}} topic {{topic}} inst {{inst}}\" sort_desc(kafka_consumergroup_group_topic_sum_lag{job=\"kafka_lag_exporter\",inst=~\"$broker\",topic=~\"$topic\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "B",
              "size": 100000
            }
          ],
          "title": "Lag by  Consumer Group",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Message/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 16
          },
          "id": 152,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Topic: {{topic}}\" sort(sum(rate(kafka_server_brokertopicmetrics_messagesin_total{job=\"$job\",inst=~\"$broker\",topic!=\"\",topic=~\"$topic\"}[$span]))by(topic))\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Messages In Per Topic",
          "type": "timeseries"
        },
        {
          "aliasColors": {
            "Failed Produce Request Broker - 10.24.88.7:9091": "dark-red",
            "Failed Produce Request Broker - 10.24.88.8:9091": "semi-dark-red",
            "Failed Produce Request Broker - 10.24.88.9:9091": "light-red",
            "Total Produce Request Broker - 10.24.88.7:9091": "dark-green",
            "Total Produce Request Broker - 10.24.88.8:9091": "semi-dark-green",
            "Total Produce Request Broker - 10.24.88.9:9091": "light-green"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 50,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Topic: {{topic}}\" sum (rate(kafka_server_brokertopicmetrics_totalproducerequests_total{job=\"$job\",inst=~\"$broker\",topic!=\"\",topic=~\"$topic\"}[$span]))by(topic)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Total Produce Request Rate Per Topic",
          "tooltip": {
            "shared": false,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "reqps",
              "label": "Request/s",
              "logBase": 1,
              "show": true
            },
            {
              "format": "reqps",
              "label": "",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 37
          },
          "hiddenSeries": false,
          "id": 176,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Request: {{inst}}\" sum(rate(kafka_network_requestmetrics_requests_total{request=~\"Produce\",job=\"$job\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Produce Request Per Broker",
          "tooltip": {
            "shared": true,
            "sort": 1,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "reqps",
              "label": "Request/s",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 47
          },
          "hiddenSeries": false,
          "id": 155,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Topic: {{topic}}\" sum (rate(kafka_server_brokertopicmetrics_bytesin_total{job=\"$job\",topic!=\"\",inst=~\"$broker\",topic=~\"$topic\"}[$span]))by(topic)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Bytes In Per Topic",
          "tooltip": {
            "shared": false,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "Bps",
              "label": "Bytes/s",
              "logBase": 1,
              "show": true
            },
            {
              "format": "Bps",
              "label": "",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {
            "Incoming Byte Topic: depositos-comando-ledger": "light-orange"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 57
          },
          "hiddenSeries": false,
          "id": 154,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Topic: {{topic}}\" sum (rate(kafka_server_brokertopicmetrics_bytesout_total{job=\"$job\",inst=~\"$broker\",topic!=\"\",topic=~\"$topic\"}[$span]))by(topic)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Bytes Out Per Topic",
          "tooltip": {
            "shared": false,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "Bps",
              "label": "Bytes/s",
              "logBase": 1,
              "show": true
            },
            {
              "format": "Bps",
              "label": "",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 67
          },
          "hiddenSeries": false,
          "id": 142,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": true,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:411",
              "alias": "/.*Bytes In*./",
              "transform": "negative-Y"
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Bytes Out [{{inst}}]\" sum (rate(kafka_server_brokertopicmetrics_bytesout_total{job=\"$job\",inst=~\"$broker\",topic!=\"\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            },
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"Bytes In [{{inst}}]\" sum (rate(kafka_server_brokertopicmetrics_bytesin_total{job=\"$job\",inst=~\"$broker\",topic!=\"\"}[$span]))by(inst)\n",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "B",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Bytes In / Out Per Broker",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:424",
              "format": "Bps",
              "label": "In (-) / Out (+)",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:425",
              "format": "Bps",
              "label": "",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Throughput",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 28,
      "panels": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 5
          },
          "id": 612,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "asc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" sum(irate(kafka_server_brokertopicmetrics_failedproducerequests_total{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Failed Produce Request Per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 5
          },
          "id": 613,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "asc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" sum(irate(kafka_server_brokertopicmetrics_failedfetchrequests_total{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Failed Fetch Request Per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "id": 614,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{topic}}\" sum(irate(kafka_server_brokertopicmetrics_failedproducerequests_total{job=~\"$job\",env=~\"$env\",topic!=\"\",inst=~\"$broker\",topic=~\"$topic\"}[$span]))by(topic)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Failed Produce Request Per Topic",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "id": 615,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{topic}}\" sum(irate(kafka_server_brokertopicmetrics_failedfetchrequests_total{job=~\"$job\",env=~\"$env\",topic!=\"\",inst=~\"$broker\",topic=~\"$topic\"}[$span]))by(topic)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Failed Fetch Request Per Topic",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Time/ms",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 23
          },
          "id": 138,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" sum (irate(kafka_server_sessionexpirelistener_zookeeperdisconnects_total{job=\"$job\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "ZooKeeper Disconnects Per Sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Time/ms",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 23
          },
          "id": 139,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" sum (irate(kafka_server_sessionexpirelistener_zookeeperexpires_total{job=\"$job\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "ZooKeeper Expires Per Sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Time/ms",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 23
          },
          "id": 150,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker: {{inst}}\" sum(kafka_server_zookeeperclientmetrics_zookeeperrequestlatencyms{job=\"$job\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "ZooKeeper Request Latency Ms",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Expands (-) / Shrinks (+)",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*Expands*./"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 193,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"ISR Shrinks Per Sec\" sum (irate(kafka_server_replicamanager_isrshrinks_total{job=\"$job\",inst=~\"$broker\"}[$span]))\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            },
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "expr": "pql chart=sum step=1m legend=\"ISR Expands Per Sec\" sum (irate(kafka_server_replicamanager_isrexpands_total{job=\"$job\",inst=~\"$broker\"}[$span]))\n",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "legendFormat": "",
              "pql": false,
              "refId": "B",
              "size": 100000
            }
          ],
          "title": "Isr Shrinks / Isr Expands Per Sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 177,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "asc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Request: {{inst}}\" sum(rate(kafka_network_requestmetrics_requests_total{request=~\"FetchFollower\",job=\"$job\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "FetchFollower Request Per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Request/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 41
          },
          "id": 178,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "asc"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Request: {{inst}}\" sum(irate(kafka_network_requestmetrics_requests_total{request=\"FetchConsumer\",job=\"$job\",inst=~\"$broker\"}[5m]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "FetchConsumer Request Per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 41
          },
          "id": 196,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker {{inst}}\" sum (kafka_server_delayedoperationpurgatory_purgatorysize{job=\"$job\",delayedOperation=\"Fetch\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Number of Requests Waiting in the Fetch Purgatory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "Bytes/s",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "id": 56,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker: {{inst}}\" sum (irate(kafka_server_brokertopicmetrics_totalfetchrequests_total{job=\"$job\",inst=~\"$broker\",topic!=\"\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Total Fetch Request Per Broker",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "id": 147,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" sum (irate(kafka_log_logflushstats_logflushrateandtimems_count{job=\"$job\",inst=~\"$broker\"}[5m]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Log Flush Stats Count",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 57
          },
          "id": 195,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker {{inst}}\" sum (kafka_server_delayedoperationpurgatory_purgatorysize{job=\"$job\",delayedOperation=\"Produce\",inst=~\"$broker\"})by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Number of Requests Waiting in the Producer Purgatory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 57
          },
          "id": 140,
          "links": [],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.0.2",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" sum (irate(kafka_controller_controllerstats_leaderelectionrateandtimems_count{job=\"$job\",inst=~\"$broker\"}[$span]))by(inst)\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Leader Election Rate Count",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "@timestamp"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Time"
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "inst"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "inst"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "value"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Status"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-text"
                  },
                  {
                    "id": "custom.align"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "#FA6400"
                        },
                        {
                          "color": "#56A64B",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "__name__"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "decimals",
                    "value": 2
                  },
                  {
                    "id": "custom.align"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 66
          },
          "id": 628,
          "links": [],
          "options": {
            "footer": {
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 3,
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "@timestamp"
              }
            ]
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql step=1m kafka_cluster_partition_replicascount{job=~\"$job\",env=~\"$env\",topic=~\"$topic\"} | stats last(value) as value by @timestamp, partition ,topic , inst | fields @timestamp,inst,partition,topic,value",
              "format": "table",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Partitions Leader Per Broker",
          "transformations": [],
          "type": "table"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 2,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 75
          },
          "id": 609,
          "links": [],
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"inst Broker:  {{inst}}\" sort(sum(kafka_log_log_size{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"})by(inst))\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Disk Usage Segment Size",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 83
          },
          "id": 603,
          "links": [],
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"inst Broker: {{inst}}\" sort(sum(kafka_server_replicamanager_partitioncount{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"}) by (inst))\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "title": "Count Partition per Broker",
          "type": "stat"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "Troubleshooting",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "_-grafana-mage-v2",
        "uid": "$datasource"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 159,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 6
          },
          "hiddenSeries": false,
          "id": 161,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" jvm_threads_current{job=\"$job\",inst=~\"$broker\"}\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "JVM Threads Current",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 6
          },
          "hiddenSeries": false,
          "id": 163,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" sum without(area)(jvm_memory_bytes_used{job=\"$job\",inst=~\"$broker\"} )\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "JVM Memory Usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "hiddenSeries": false,
          "id": 81,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"Broker - {{inst}}\" rate(process_cpu_seconds_total{job=~\"$job\",env=~\"$env\",inst=~\"$broker\"}[5m])\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "CPU Usage",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "s",
              "label": "Usage/s",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "hiddenSeries": false,
          "id": 83,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "paceLength": 10,
          "percentage": false,
          "pluginVersion": "9.2.3",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "chart": "prefix",
              "datasource": {
                "type": "_-grafana-mage-v2",
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "pql chart=sum step=1m legend=\"{{inst}}\" sum without(gc)(rate(jvm_gc_collection_seconds_sum{job=\"$job\",inst=~\"$broker\"}[$span]))\n",
              "format": "time_series",
              "interval": "",
              "legendFormat": "__auto",
              "pql": false,
              "range": true,
              "refId": "A",
              "size": 100000
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Time spent in GC",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "_-grafana-mage-v2",
            "uid": "$datasource"
          },
          "refId": "A"
        }
      ],
      "title": "JVM",
      "type": "row"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 37,
  "style": "dark",
  "tags": [
    "stable",
    "kafka"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "1m",
          "value": "1m"
        },
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "span",
        "options": [
          {
            "selected": true,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          }
        ],
        "query": "1m,5m,10m,30m,1h",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "_-grafana-mage-v2",
          "uid": "$datasource"
        },
        "definition": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\"}, dc)",
        "hide": 0,
        "includeAll": true,
        "label": "dc",
        "multi": false,
        "name": "dc",
        "options": [],
        "query": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\"}, dc)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      },
      {
        "current": {
          "selected": false,
          "text": "kafka_jmx_exporter",
          "value": "kafka_jmx_exporter"
        },
        "datasource": {
          "type": "_-grafana-mage-v2",
          "uid": "$datasource"
        },
        "definition": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",dc=~\"$dc\"}, job)",
        "hide": 0,
        "includeAll": false,
        "label": "job",
        "multi": false,
        "name": "job",
        "options": [],
        "query": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",dc=~\"$dc\"}, job)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "selected": false,
          "text": "mirage-dev",
          "value": "mirage-dev"
        },
        "datasource": {
          "type": "_-grafana-mage-v2",
          "uid": "$datasource"
        },
        "definition": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",job=\"$job\",dc=~\"$dc\"}, env)",
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "env",
        "options": [],
        "query": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",job=\"$job\",dc=~\"$dc\"}, env)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      },
      {
        "allValue": "",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "_-grafana-mage-v2",
          "uid": "$datasource"
        },
        "definition": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",job=\"$job\",env=\"$env\",dc=~\"$dc\"}, inst)",
        "hide": 0,
        "includeAll": true,
        "label": "Broker",
        "multi": true,
        "name": "broker",
        "options": [],
        "query": "label_values(kafka_controller_kafkacontroller_controllerstate{group=\"${__org.name}\",job=\"$job\",env=\"$env\",dc=~\"$dc\"}, inst)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "_-grafana-mage-v2",
          "uid": "$datasource"
        },
        "definition": "label_values(kafka_cluster_partition_replicascount{group=\"${__org.name}\",job=\"$job\",env=\"$env\",dc=~\"$dc\"}, topic)",
        "hide": 0,
        "includeAll": true,
        "label": "Topic",
        "multi": true,
        "name": "topic",
        "options": [],
        "query": "label_values(kafka_cluster_partition_replicascount{group=\"${__org.name}\",job=\"$job\",env=\"$env\",dc=~\"$dc\"}, topic)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "current": {
          "selected": false,
          "text": "MAGE v2",
          "value": "MAGE v2"
        },
        "hide": 2,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "_-grafana-mage-v2",
        "refresh": 1,
        "regex": "/MAGE/",
        "skipUrlSync": false,
        "type": "datasource"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "hidden": false,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "",
  "title": "Kafka Metrics",
  "uid": "5nhADrDWk",
  "version": 4,
  "weekStart": ""
}